!function(t){var e={};function n(r){if(e[r])return e[r].exports;var a=e[r]={i:r,l:!1,exports:{}};return t[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)n.d(r,a,function(e){return t[e]}.bind(null,a));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){(function(){"use strict";const e=Object.getPrototypeOf(function*(){}()).constructor,n=(Object.getPrototypeOf(async function*(){}()).constructor,async(t,e)=>{if(t===e)return!0;if(typeof t!=typeof e)return!1;if(t&&!e||!t&&e)return!1;if(t&&"object"==typeof t){if(t instanceof RegExp)return t.test(e);if(Array.isArray(t)&&!Array.isArray(e))return!1;if(t instanceof Date)return e instanceof Date&&t.getTime()===e.getTime();if(t instanceof Map){if(!(e instanceof Map))return!1;if(t.size!==e.size)return!1;for(const[r,a]of t)if(!await n(a,e.get(r)))return!1;return!0}if(t instanceof Set){if(!(e instanceof Set))return!1;if(t.size!==e.size)return!1;const r=new Set;for(const a of t)if(e.has(a))r.add(a);else for(const t of e)await n(a,t)&&r.add(a);return r.size==t.size}return await c(Object.keys(t),async r=>{const a=s(r,!0);if("function"==typeof a){let o=0;return await c(Object.keys(e),async i=>!await a.call(t,i)||(o++,await n(t[r],e[i])))&&o>0}return await n(t[r],e[r])})}return!1}),r=async(t,e,n,{continuable:r,data:o,tree:i,nodes:c})=>{let f=0;for await(const s of t){let[t,u]=o instanceof Map||i?s:[f,s];if(n=void 0===n&&0===f?i&&"object"==typeof u?await a(u,e,n,r,c,t):u:i&&"object"==typeof u?await a(u,e,n,r,c,t):await e(n,u,t,o),f++,void 0===n&&!r)break}return n},a=async(t,e,n,a=!0,o,i)=>{if(!t||"object"!=typeof t)return e(n,t);o&&i&&await e(t,i,t);let c,f=t;return Symbol.iterator in t?f=async function*(t){for(const e of t)yield e}(t):Array.isArray(t)||Symbol.asyncIterator in t||(f=Object.entries(t),c=!0),r(f,e,n,{continuable:a,data:t,tree:c,nodes:o})},o=async(t,n,r)=>{if(!t||"object"!=typeof t)return n(t);let a,i,c=t;return Symbol.iterator in t?c=async function*(t){for(const e of t)yield e}(t):Array.isArray(t)||Symbol.asyncIterator in t||(c=Object.entries(t),a=!0),i=Array.isArray(t)?[]:t instanceof Set?new Set:t instanceof Map?new Map:Symbol.iterator in t||Symbol.asyncIterator in t?[]:Object.create(Object.getPrototypeOf(t)),i=await(async(t,e,n,{skipUndefined:r,tree:a,data:i})=>{let c=0;for await(const s of t){const[t,u]=i instanceof Map||a?s:[c,s];let y;c++,void 0===(y=a&&u&&"object"==typeof u?await o(u,e,r):await e(u,t,i))&&r||(n instanceof Set?await n.add(y):n instanceof Map||f(n,{del:!0,get:!0,set:!0})?await n.set(t,y):f(n,{getItem:!0,removeItem:!0,setItem:!0})?await n.setItem(t,y):n[t]=y)}return n})(c,n,i,{skipUndefined:r,tree:a,data:t}),t instanceof e?Symbol.iterator in t?function*(){for(const t of i)yield i}():async function*(){for(const t of i)yield i}():i},i=async(t,e,n,r)=>{if(!t||"object"!=typeof t)return e(t);n&&r&&await e(t,r,t);let a,o=t;return Symbol.iterator in t?o=async function*(t){for(const e of t)yield e}(t):Array.isArray(t)||Symbol.asyncIterator in t||(o=Object.entries(t),a=!0),await(async(t,e,{nodes:n,tree:r,data:a})=>{let o=0;for await(const c of t){const[t,f]=a instanceof Map||r?c:[o,c];o++,await i(f,e,n,t)}})(o,e,{nodes:n,tree:a,data:t}),!0},c=async(t,e,n)=>{let a,o=t;return Symbol.iterator in t?o=async function*(t){for(const e of t)yield e}(t):Array.isArray(t)||Symbol.asyncIterator in t||(o=Object.entries(t),a=!0),!!await r(o,async(t,n)=>await e(n)?t:void 0,!0,{continuable:!1,nodes:n,tree:a,data:t})},f=(t,e)=>Object.keys(e).every(e=>"function"==typeof t[e]),s=(t,e)=>{const r=typeof t;if("function"===r)return t;if(e&&"string"===r){const e=t.replace(/\n/g,"");try{const t=e.lastIndexOf("/");if("/"===e[0]&&t>0){const n=e.substring(1,t),r=e.substring(t+1),a=new RegExp(n,r);return t=>a.test(t)}if(e.startswith("function")||"/(*)*=>*".test(e))return Function("return "+e)()}catch(t){}}return null===t||["boolean","number","string"].includes(r)?e=>e===t:t&&"object"===r&&t instanceof RegExp?e=>t.test(e):e=>n(t,e)},u={every:c,exposes:f,flow:(...t)=>async e=>await a(t,async(t,e)=>"function"==typeof e?await e(t):e,e,!1),forEach:i,map:o,parallel:(...t)=>async(...e)=>{const n=[],r=[];for(const a of t){const t=(async()=>"function"==typeof a?a(...e).then(t=>r.push(t)):a)();n.push(t)}return await Promise.all(n),r},pipe:(...t)=>async e=>await a(t,async(t,e)=>"function"==typeof e?await e(t):e,e),reduce:a,route:(t,...e)=>async n=>{if(void 0!==t&&await s(t)(n))for(let t of e){if("function"==typeof(t=await t)&&(t=await t(n)),t&&"object"==typeof t){const e=Object.keys(t);if(t.done&&e.every(t=>"done"===t||"value"===t))return t.value}if(void 0===t)return}},router:(...t)=>async e=>{const n=await((t,...e)=>async n=>{const r=s(await t);for(let t of e)if("function"==typeof(t=await s(await t))&&(t=await t(n)),await r(t))return t;return n})(t=>void 0!==t,...t)(e);return n&&"object"==typeof n&&Object.keys(e).every(t=>"done"===t||"value"===t)?n.value:void 0!==n?n:e},some:async(t,e,n)=>{let a,o,i=t;return Symbol.iterator in t?i=async function*(t){for(const e of t)yield e}(t):Array.isArray(t)||Symbol.asyncIterator in t||(i=Object.entries(t),a=!0),await r(i,async(t,n)=>{if(!await e(n))return!0;o=!0},!0,{continuable:!1,nodes:n,tree:a,data:t}),o},when:(t,...e)=>async n=>{let r;if(void 0!==t&&await s(t)(n)){let t;for(let a of e){if("function"==typeof(a=await a)&&(t=await a(n)),t&&"object"==typeof t){const e=Object.keys(t);e.length<=2&&t.done&&e.every(t=>"done"===t||"value"===t)&&(r=t)}if(void 0===t||r)break}return r&&void 0!==r.value?r.value:t}return n},trigger:(t,...e)=>async n=>!(void 0===t||!await s(t)(n)||(setTimeout(()=>e.forEach(t=>t(n))),0)),leftEqual:n};t.exports=u,"undefined"!=typeof window&&(window.assentials=u)}).call(this)}]);