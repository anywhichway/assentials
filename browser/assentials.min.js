!function(t){var e={};function n(r){if(e[r])return e[r].exports;var a=e[r]={i:r,l:!1,exports:{}};return t[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)n.d(r,a,function(e){return t[e]}.bind(null,a));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){"use strict";n.r(e),n.d(e,"assentials",function(){return l});const r=Object.getPrototypeOf(function*(){}()).constructor,a=(Object.getPrototypeOf(async function*(){}()).constructor,async(t,e)=>{if(t===e)return!0;if(typeof t!=typeof e)return!1;if(t&&!e||!t&&e)return!1;if(t&&"object"==typeof t){if(t instanceof RegExp)return t.test(e);if(Array.isArray(t)&&!Array.isArray(e))return!1;if(t instanceof Date)return e instanceof Date&&t.getTime()===e.getTime();if(t instanceof Map){if(!(e instanceof Map))return!1;if(t.size!==e.size)return!1;for(const[n,r]of t)if(!await a(r,e.get(n)))return!1;return!0}if(t instanceof Set){if(!(e instanceof Set))return!1;if(t.size!==e.size)return!1;const n=new Set;for(const r of t)if(e.has(r))n.add(r);else for(const t of e)await a(r,t)&&n.add(r);return n.size==t.size}return await f(Object.keys(t),async n=>{const r=y(n,!0);if("function"==typeof r){let o=0;return await f(Object.keys(e),async i=>!await r.call(t,i)||(o++,await a(t[n],e[i])))&&o>0}return await a(t[n],e[n])})}return!1}),o=async(t,e,n,{continuable:r,data:a,tree:o,nodes:c})=>{let s=0;for await(const f of t){let[t,u]=a instanceof Map||o?f:[s,f];if(n=void 0===n&&0===s?o&&"object"==typeof u?await i(u,e,n,r,c,t):u:o&&"object"==typeof u?await i(u,e,n,r,c,t):await e(n,u,t,a),s++,void 0===n&&!r)break}return n},i=async(t,e,n,r=!0,a,i)=>{if(!t||"object"!=typeof t)return e(n,t);a&&i&&await e(t,i,t);let c,s=t;return Symbol.iterator in t?s=async function*(t){for(const e of t)yield e}(t):Array.isArray(t)||Symbol.asyncIterator in t||(s=Object.entries(t),c=!0),o(s,e,n,{continuable:r,data:t,tree:c,nodes:a})},c=async(t,e,n)=>{if(!t||"object"!=typeof t)return e(t);let a,o,i=t;return Symbol.iterator in t?i=async function*(t){for(const e of t)yield e}(t):Array.isArray(t)||Symbol.asyncIterator in t||(i=Object.entries(t),a=!0),o=Array.isArray(t)?[]:t instanceof Set?new Set:t instanceof Map?new Map:Symbol.iterator in t||Symbol.asyncIterator in t?[]:Object.create(Object.getPrototypeOf(t)),o=await(async(t,e,n,{skipUndefined:r,tree:a,data:o})=>{let i=0;for await(const s of t){const[t,f]=o instanceof Map||a?s:[i,s];let y;i++,void 0===(y=a&&f&&"object"==typeof f?await c(f,e,r):await e(f,t,o))&&r||(n instanceof Set?await n.add(y):n instanceof Map||u(n,{del:!0,get:!0,set:!0})?await n.set(t,y):u(n,{getItem:!0,removeItem:!0,setItem:!0})?await n.setItem(t,y):n[t]=y)}return n})(i,e,o,{skipUndefined:n,tree:a,data:t}),t instanceof r?Symbol.iterator in t?function*(){for(const t of o)yield o}():async function*(){for(const t of o)yield o}():o},s=async(t,e,n,r)=>{if(!t||"object"!=typeof t)return e(t);n&&r&&await e(t,r,t);let a,o=t;return Symbol.iterator in t?o=async function*(t){for(const e of t)yield e}(t):Array.isArray(t)||Symbol.asyncIterator in t||(o=Object.entries(t),a=!0),await(async(t,e,{nodes:n,tree:r,data:a})=>{let o=0;for await(const i of t){const[t,c]=a instanceof Map||r?i:[o,i];o++,await s(c,e,n,t)}})(o,e,{nodes:n,tree:a,data:t}),!0},f=async(t,e,n)=>{let r,a=t;return Symbol.iterator in t?a=async function*(t){for(const e of t)yield e}(t):Array.isArray(t)||Symbol.asyncIterator in t||(a=Object.entries(t),r=!0),!!await o(a,async(t,n)=>await e(n)?t:void 0,!0,{continuable:!1,nodes:n,tree:r,data:t})},u=(t,e)=>Object.keys(e).every(e=>"function"==typeof t[e]),y=(t,e)=>{const n=typeof t;if("function"===n)return t;if(e&&"string"===n){const e=t.replace(/\n/g,"");try{const t=e.lastIndexOf("/");if("/"===e[0]&&t>0){const n=e.substring(1,t),r=e.substring(t+1),a=new RegExp(n,r);return t=>a.test(t)}if(e.startswith("function")||"/(*)*=>*".test(e))return Function("return "+e)()}catch(t){}}return null===t||["boolean","number","string"].includes(n)?e=>e===t:t&&"object"===n&&t instanceof RegExp?e=>t.test(e):e=>a(t,e)},l={every:f,exposes:u,flow:(...t)=>async e=>await i(t,async(t,e)=>"function"==typeof e?await e(t):e,e,!1),forEach:s,map:c,parallel:(...t)=>async(...e)=>{const n=[],r=[];for(const a of t){const t=(async()=>"function"==typeof a?a(...e).then(t=>r.push(t)):a)();n.push(t)}return await Promise.all(n),r},pipe:(...t)=>async e=>await i(t,async(t,e)=>"function"==typeof e?await e(t):e,e),reduce:i,route:(t,...e)=>async n=>{if(void 0!==t&&await y(t)(n))for(let t of e){if("function"==typeof(t=await t)&&(t=await t(n)),t&&"object"==typeof t){const e=Object.keys(t);if(t.done&&e.every(t=>"done"===t||"value"===t))return t.value}if(void 0===t)return}},router:(...t)=>async e=>{const n=await((t,...e)=>async n=>{const r=y(await t);for(let t of e)if("function"==typeof(t=await y(await t))&&(t=await t(n)),await r(t))return t;return n})(t=>void 0!==t,...t)(e);return n&&"object"==typeof n&&Object.keys(e).every(t=>"done"===t||"value"===t)?n.value:void 0!==n?n:e},some:async(t,e,n)=>{let r,a,i=t;return Symbol.iterator in t?i=async function*(t){for(const e of t)yield e}(t):Array.isArray(t)||Symbol.asyncIterator in t||(i=Object.entries(t),r=!0),await o(i,async(t,n)=>{if(!await e(n))return!0;a=!0},!0,{continuable:!1,nodes:n,tree:r,data:t}),a},when:(t,...e)=>async n=>{let r;if(void 0!==t&&await y(t)(n)){let t;for(let a of e){if("function"==typeof(a=await a)&&(t=await a(n)),t&&"object"==typeof t){const e=Object.keys(t);e.length<=2&&t.done&&e.every(t=>"done"===t||"value"===t)&&(r=t)}if(void 0===t||r)break}return r&&void 0!==r.value?r.value:t}return n},trigger:(t,...e)=>async n=>!(void 0===t||!await y(t)(n)||(setTimeout(()=>e.forEach(t=>t(n))),0)),leftEqual:a};"undefined"!=typeof window&&(window.assentials=l)}]);